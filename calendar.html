<link rel="stylesheet" href="https://ZulNs.github.io/libs/calendar.css"/>
<script type="text/javascript" src="https://ZulNs.github.io/libs/hijri-date.js"></script>
<script type="text/javascript" src="https://ZulNs.github.io/libs/calendar.js"></script>
<div id="calendar-converter"></div>
<script type="text/javascript">
    var cal2 = new Calendar(true, 0, false, true),
        cal2Mode = cal2.isHijriMode();
    document.getElementById('calendar-converter').appendChild(cal2.getElement());
    cal1.setDisplayStyle('inline-block');
    cal2.setDisplayStyle('inline-block');
    cal2.getElement().style.marginLeft = '20px';
    cal1.show();
    cal2.show();

    cal1.callback = function() {
        if (cal1Mode !== cal1.isHijriMode()) {
            cal2.disableCallback(true);
            cal2.changeDateMode();
            cal2.disableCallback(false);
            cal1Mode = cal1.isHijriMode();
            cal2Mode = cal2.isHijriMode();
        } // prevent from infinite loop when user change the calendar mode
        else
            cal2.setTime(cal1.getTime());
    };

    cal2.callback = function() {
        if (cal2Mode !== cal2.isHijriMode()) {
            cal1.disableCallback(true);
            cal1.changeDateMode();
            cal1.disableCallback(false);
            cal1Mode = cal1.isHijriMode();
            cal2Mode = cal2.isHijriMode();
        } // prevent from infinite loop when user change the calendar mode
        else
            cal1.setTime(cal2.getTime());
    };

    cal1.onHide = function() {
        cal1.show(); // prevent the widget from being closed
    };

    cal2.onHide = function() {
        cal2.show(); // prevent the widget from being closed
    };
</script>
